(function(e){function t(t){for(var a,s,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"2bb8":function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("6ace")},"6ace":function(e,t,n){},"94b1":function(e,t,n){"use strict";n("2bb8")},cd49:function(e,t,n){"use strict";n.r(t);n("cd24");var a=n("2e1a"),o=n("68d6"),r=(n("fd85"),n("15db"),n("c026"),n("4031"),n("e832")),s=n("4af9");r["default"].use(s["a"]);var i=[],c=new s["a"]({mode:"history",base:"/",routes:i}),u=c,l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("b-navbar",{attrs:{variant:"dark"}},[n("b-navbar-nav",[n("b-nav-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sources-sidebar",modifiers:{"sources-sidebar":!0}}]},[e._v("Sources")])],1)],1),n("sources",{on:{"stream-removed":e.handleStreamRemoved}}),n("stage",{attrs:{id:"stage",body:e.body},on:{"update:body":function(t){e.body=t}}})],1)},d=[],f=n("779e"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-sidebar",{attrs:{id:"settings-sidebar","bg-variant":"dark","text-variant":"light",title:"Settings"}},[n("div",{staticClass:"p-3"},[e._v("Hello settings")])])},p=[],v=Object(f["b"])({setup:function(e){}}),m=v,h=n("a6c2"),g=Object(h["a"])(m,b,p,!1,null,null,null),y=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stage-container d-flex justify-content-center align-items-center h-100"},[n("div",{ref:"sketchTemplate",attrs:{id:"sketch"}})])},O=[],j=(n("0b89"),n("46d4"),n("494a"),n("dddc"),n("98ad")),k=n("7c41"),_=n.n(k),S=n("e3c3"),x=n.n(S),C=Object(f["b"])({props:{body:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(f["d"])(void 0),r=!1;function s(){var t=.1;Object.keys(e.body).forEach((function(n){var a=e.body[n];Object.keys(a.soon).forEach((function(e){a.now[e][0]+=(a.soon[e][0]-a.now[e][0])*t,a.now[e][1]+=(a.soon[e][1]-a.now[e][1])*t,a.now[e][2]+=(a.soon[e][2]-a.now[e][2])*t,a.now[e].length}))}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.groupId,e.port||5080),n=(e.id||Math.round(1e3*Math.random()),e.target||function(e){console.log(e)}),a=!1,o="localhost"===window.location.hostname?"ws://localhost:"+t:a?"wss://"+window.location.hostname+":"+t:"ws://"+window.location.hostname+":"+t,r=new WebSocket(o);r.onopen=function(){console.log("opening websocket to ".concat(o)),r.binaryType="arraybuffer",r.send(x.a.serialize({address:"subscribe",args:{id:"axis-web"}}))},r.onmessage=function(e){var t=x.a.deserialize(e.data),a=t.address,o=t.args;"pn"===a&&o.forEach((function(e){n(e)})),"settings"===a&&console.log(o)}}function c(t){var o=t.id,r=t.data;void 0===e.body[o]?n("update:body",Object(a["a"])(Object(a["a"])({},e.body),{},Object(j["a"])({},o,{now:r,soon:r}))):e.body[o].soon=r}return Object(f["c"])((function(){var t=function(t){var n,a=0,u=0,l=0,d=0,f=0,b=0,p=100,v=0;t.preload=function(){n=t.loadFont("./fonts/SourceCodePro-Medium.otf")},t.setup=function(){var e,a,r,s;t.createCanvas(null!==(e=null===(a=o.value)||void 0===a?void 0:a.clientWidth)&&void 0!==e?e:0,null!==(r=null===(s=o.value)||void 0===s?void 0:s.clientHeight)&&void 0!==r?r:0,t.WEBGL),i({target:c}),t.noStroke(),t.textFont(n),t.textSize(24),t.textAlign(t.CENTER,t.CENTER)},t.draw=function(){s(),t.background(0),t.lights(),t.noStroke(),t.push(),t.translate(u,l,d),t.rotateY(a),t.push(),t.rotateX(t.HALF_PI);var n=4,o=4,r=200;t.translate(-r*n/2,-r*o/2);for(var i=30,c=70,m=0;m<n;m++)for(var h=0;h<o;h++)t.fill(255,m%2===0?h%2===0?i:c:h%2===0?c:i),t.rect(r*m,r*h,r,r);t.pop(),Object.keys(e.body).forEach((function(n){if(t.fill(255),t.push(),e.body[n].now["Head"]){t.push();var o=e.body[n].now["Head"];t.translate(o[0],o[1],o[2]),t.translate(0,-50,0),t.stroke(255,100),t.noFill(),t.ellipse(0,0,40,40),t.fill(255),t.text(n,0,-4),t.pop()}Object.keys(e.body[n].now).forEach((function(a){t.push();var o=e.body[n].now[a];t.translate(o[0],o[1],o[2]),t.sphere(2,4,4),t.pop()})),t.pop();var r=.1;u+=(b-u)*r,l+=(p-l)*r,d+=(v-d)*r,a+=(f-a)*r}))},t.mouseDragged=function(e){r?(b+=t.mouseX-t.pmouseX,p+=t.mouseY-t.pmouseY):f+=.02*(t.mouseX-t.pmouseX)},t.mouseWheel=function(e){return v+=e.delta,!1},t.keyPressed=function(){r=16==t.keyCode||r},t.keyReleased=function(){r=16!=t.keyCode&&r},t.windowResized=function(){t.resizeCanvas(t.windowWidth,t.windowHeight)}};new _.a(t,o.value)})),{sketchTemplate:o}}}),P=C,E=(n("94b1"),Object(h["a"])(P,w,O,!1,null,"e0fea966",null)),T=E.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-sidebar",{attrs:{id:"sources-sidebar","bg-variant":"dark","text-variant":"light",title:"Sources"}},[n("div",{staticClass:"p-3"},[n("h5",{staticClass:"mb-3"},[e._v("Streams")]),e._l(e.streams,(function(t,a){return n("b-card",{key:"stream-"+a,staticClass:"mb-2 p-0",attrs:{"bg-variant":"white","text-variant":"dark","no-body":""}},[n("b-card-header",{attrs:{"header-bg-variant":"white"}},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("b",[e._v("#"+e._s(t.id))]),n("span",[e._v(e._s(t.address))]),n("b-button",{staticClass:"text-danger",attrs:{size:"sm",variant:"link"},on:{click:function(){return e.removeStream(t.id)}}},[n("b-icon",{attrs:{icon:"trash"}})],1)],1)])],1)})),n("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[n("b-form",{staticClass:"mt-4",on:{submit:function(t){return t.preventDefault(),a(e.addStream)}}},[n("validation-provider",{attrs:{name:"IP address",rules:"required|ip"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[n("b-input-group",{attrs:{prepend:"IP"}},[n("b-form-input",{model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),n("b-input-group-append",[n("b-button",{attrs:{type:"submit",disabled:!e.ip}},[e._v("Add")])],1)],1),n("small",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)]}}])}),n("hr",{staticClass:"border-primary w-50 my-5"}),n("h5",[e._v("Files")]),n("b-form-file",{staticClass:"mb-2",attrs:{size:"sm"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("b-button",{attrs:{disabled:!e.file},on:{click:e.upload}},[e._v("Upload")])],2)])},M=[],F=(n("862d"),n("7338")),H=n.n(F),I="http://46.101.24.208:5080",R=Object(f["b"])({setup:function(e,t){var n=t.emit,o=t.root,r=Object(f["d"])([]);function s(){return H.a.get("".concat(I,"/streams")).then((function(e){r.value=e.data}))}Object(f["c"])(s);var i=Object(f["d"])("");function c(){return H.a.post("".concat(I,"/stream"),{address:i.value}).then((function(e){return s()})).catch((function(e){o.$bvToast.toast(e.message,{title:"Oops",variant:"danger"})}))}function u(e){return H.a.delete("".concat(I,"/stream/").concat(e)).then((function(e){return s()})).then((function(t){return n("stream-removed",e)})).catch((function(e){return console.error(e)}))}var l={streams:r,ip:i,addStream:c,removeStream:u},d=Object(f["d"])(null);function b(){if(console.log(d.value),void 0!==d.value){var e=new FormData;e.append("bvh",d.value),console.log(e),H.a.post("".concat(I,"/upload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log(e)}))}}var p={file:d,upload:b};return Object(a["a"])(Object(a["a"])({},l),p)}}),$=R,W=Object(h["a"])($,z,M,!1,null,null,null),X=W.exports,A=Object(f["b"])({components:{Settings:y,Stage:T,Sources:X},setup:function(e){var t=Object(f["d"])({});function n(e){delete t.value[e]}return{body:t,handleStreamRemoved:n}}}),D=A,N=(n("5c0b"),Object(h["a"])(D,l,d,!1,null,null,null)),Y=N.exports,q=n("7e05"),J=n("aa2f"),L=n("fb74"),V=n("79dc"),B=n("1f60"),G=n.n(B);r["default"].config.productionTip=!1,r["default"].use(f["a"]),r["default"].use(q["a"]),r["default"].use(J["a"]),r["default"].component("ValidationObserver",L["a"]),r["default"].component("ValidationProvider",L["b"]);for(var U=0,K=Object.entries(V);U<K.length;U++){var Q=Object(o["a"])(K[U],2),Z=Q[0],ee=Q[1];Object(L["c"])(Z,Object(a["a"])({},ee))}Object(L["c"])("ip",{validate:function(e){return G.a.isIP(e)},message:"{_field_} is not a valid IP"}),new r["default"]({router:u,render:function(e){return e(Y)}}).$mount("#app")}});
//# sourceMappingURL=app.e52937c9.js.map